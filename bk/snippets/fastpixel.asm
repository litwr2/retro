;a very fast method for setting/resetting a color point
;it sets 00 or 11 for a pixel
;colors are selected by the TAB1 table

            .radix 10
            .dsabl gbl
            .asect
            .=512   ;start of test code
    mov #10,R1   
    mov #20,R2
    call @#POINT

    mov #20,R1
    mov #10,R2
    call @#POINT

    mov #200,R1
    mov #100,R2
    call @#POINT

    mov #100,R1
    mov #200,R2
    call @#POINT

    mov #255,R1
    mov #255,R2
    call @#POINT

    mov #0,R1
    mov #255,R2
    call @#POINT

    mov #255,R1
    mov #0,R2
    call @#POINT

    mov #0,R1
    mov #0,R2
    call @#POINT

    mov #0,R1
    mov #255,R2
    call @#CLEAR
4$:  BR 4$           ;end of test code

POINT:	;R1,R2 - X,Y; R0 - temp;  Y*64+X/4
    MOV R1,R0
    ASR R1
    ASR R1
    ASL R2
    ADD TAB2(R2),R1
	BISB TAB1(R0),(R1)
    RETURN

CLEAR:	;R1,R2 - X,Y; R0 - temp;  Y*64+X/4
    MOV R1,R0
    ASR R1
    ASR R1
    ASL R2
    ADD TAB2(R2),R1
	BICB TAB1(R0),(R1)
    RETURN

TAB1:
    .REPT 64
    .BYTE 3,12,48,192
    .ENDR
TAB2: 
    .WORD 16384,16448,16512,16576,16640,16704,16768,16832
	.WORD 16896,16960,17024,17088,17152,17216,17280,17344
	.WORD 17408,17472,17536,17600,17664,17728,17792,17856
	.WORD 17920,17984,18048,18112,18176,18240,18304,18368
	.WORD 18432,18496,18560,18624,18688,18752,18816,18880
	.WORD 18944,19008,19072,19136,19200,19264,19328,19392
	.WORD 19456,19520,19584,19648,19712,19776,19840,19904
	.WORD 19968,20032,20096,20160,20224,20288,20352,20416
	.WORD 20480,20544,20608,20672,20736,20800,20864,20928
	.WORD 20992,21056,21120,21184,21248,21312,21376,21440
	.WORD 21504,21568,21632,21696,21760,21824,21888,21952
	.WORD 22016,22080,22144,22208,22272,22336,22400,22464
	.WORD 22528,22592,22656,22720,22784,22848,22912,22976
	.WORD 23040,23104,23168,23232,23296,23360,23424,23488
	.WORD 23552,23616,23680,23744,23808,23872,23936,24000
	.WORD 24064,24128,24192,24256,24320,24384,24448,24512
	.WORD 24576,24640,24704,24768,24832,24896,24960,25024
	.WORD 25088,25152,25216,25280,25344,25408,25472,25536
	.WORD 25600,25664,25728,25792,25856,25920,25984,26048
	.WORD 26112,26176,26240,26304,26368,26432,26496,26560
	.WORD 26624,26688,26752,26816,26880,26944,27008,27072
	.WORD 27136,27200,27264,27328,27392,27456,27520,27584
	.WORD 27648,27712,27776,27840,27904,27968,28032,28096
	.WORD 28160,28224,28288,28352,28416,28480,28544,28608
	.WORD 28672,28736,28800,28864,28928,28992,29056,29120
	.WORD 29184,29248,29312,29376,29440,29504,29568,29632
	.WORD 29696,29760,29824,29888,29952,30016,30080,30144
	.WORD 30208,30272,30336,30400,30464,30528,30592,30656
	.WORD 30720,30784,30848,30912,30976,31040,31104,31168
	.WORD 31232,31296,31360,31424,31488,31552,31616,31680
	.WORD 31744,31808,31872,31936,32000,32064,32128,32192
	.WORD 32256,32320,32384,32448,32512,32576,32640,32704

